#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Mon Aug 14 10:47:53 2017

@author: lamahamadeh
"""

#Importing necessary libraries
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from sklearn.datasets import load_iris
from sklearn.cluster import KMeans
#-------------------------------------------------

#Read the dataframe
iris = load_iris()
X = iris.data
df = pd.DataFrame(X)
df.columns = iris ['feature_names']
df['target'] = iris ['target']
print(df.head())
#-------------------------------------------------

#Apply KMeans algorithm
kmeans_model = KMeans(n_clusters = 3, init = 'random', n_init = 60, max_iter = 400, random_state = 43)
kmeans_model.fit(X)
centroids = kmeans_model.cluster_centers_
KM_labels = kmeans_model.labels_ #tese are the labels generated from the KMeans clustering method
OR_labels = df.target #these are the original labels provided by the dataset
df['kMean predicted label'] = kmeans_model.labels_ #Here we add to the iris dataset a column that 
#contains the KMeans prediction labels in order to compare between the target column and the kmean clustering perdication
print (df.head())
#-------------------------------------------------

#Plotting and visulisation
#Scatter plot of the labels generated by KMeans clustering method: KM_labels
colormap=np.array(['Red', 'Blue', 'Green'])
fig = plt.figure()
ax = fig.add_subplot(111)
ax.scatter(df['petal length (cm)'], y=df['petal width (cm)'], c=colormap[KM_labels], s=40)
plt.xlabel('petal length (cm)')
plt.ylabel('petal width (cm)')
plt.title('After applying KMean clutering method')
#Scatter plot of the original labels provided by the dataset: OR_labels
fig = plt.figure()
ax = fig.add_subplot(111)
ax.scatter(df['petal length (cm)'], y=df['petal width (cm)'], c=colormap[OR_labels], s=40)
plt.xlabel('petal length (cm)')
plt.ylabel('petal width (cm)')
plt.title('Before applying KMean clutering method')

#It is worth mentioning that the labels might change colour/numeric value between
#the original and KMeans labels, but the idea here is to see if the clustering 
#methos of KMeans produces the same groups as the original lables. 
#-------------------------------------------------

